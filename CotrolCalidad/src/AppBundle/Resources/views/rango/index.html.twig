{% extends 'base.html.twig' %}

{% block body %}

    <div class="col-lg-1">
        <a data-toggle="tooltip" data-original-title="Agregar nuevo rango"  href="{{ path('rango_new') }}" class="btn btn-app btn-xs">
            <i class="fa fa-plus"></i> Agregar
        </a>
    </div>
    
    <div class="row col-lg-12">

        <h3>Rangos</h3>
    <hr>
    </div>


    </table>
    {% for rango in rangos %}
        <div class="col-md-3">
            <div class="box box-default collapsed-box">
                <div class="box-header with-border">
                  <h3 class="box-title">{{rango.nombre}}</h3>

                  <div class="box-tools pull-right">
                        {{rango.niveles|length}}/{{rango.numeroNiveles}}

                    {% if rango.niveles|length == rango.numeroNiveles %}
                       
                    {% else %}
                        
                        <a href="{{ path('nivel_new', { 'idRango': rango.id }) }}" data-toggle="tooltip"data-original-title="Agregar" class="btn btn-box-tool"><i class="fa fa-plus"></i></a>
                    {% endif %}
                 
                    <button type="button" class="btn btn-box-tool" data-toggle="tooltip"data-original-title="Abrir"  style="margin-top: -4px;" data-widget="collapse"><i class="fa fa-sort-down"></i>
                    </button>
                  </div>

                 
                  <!-- /.box-tools -->
                </div>
                <!-- /.box-header -->
                {% if rango.niveles|length == 0 %}

                        <div class="box-body" style="display: none;">
                        sin registros
                        </div>

                    {% else %}
                        <div class="box-body " style="display: none;">
                                <div class="col-md-4">
                                    nombre
                                </div>
                                <div class="col-md-4">
                                    valor %
                                </div>
                                <div class="col-md-4">
                                    color
                                </div>
                            </div>

                    {% for nivel in rango.niveles %}
                            <div class="box-body " style="display: none;">
                                <div class="col-md-4">
                                    {{nivel.nombre}}
                                </div>
                                <div class="col-md-4">
                                    {{nivel.valorMaximo}}
                                </div>
                                <div class="col-md-4">
                                    <i class="fa fa-circle-o" style="color:{{nivel.color}};"></i>
                                </div>
                            </div>
                    {% endfor %}
                {% endif %}
                <!-- /.box-body -->
            </div>
              <!-- /.box -->
        </div>
    {% endfor %}


{% endblock %}
